{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAaC,SAASC,cAAc,QACpCC,EAASF,SAASC,cAAc,UAEtCF,EAAWI,iBAAiB,UAe5B,SAAsBC,G,kBAbtB,IAAuBC,EAAUC,EACzBC,GADeF,EAqBLG,EAAI,EArBWF,EAqBRG,EAAQC,EAAOF,EApBhCD,EAAgBI,KAAKC,SAAW,GAC/B,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLT,EACFO,EAAQ,CAAET,WAAUC,UAEpBS,EAAO,CAAEV,WAAUC,S,GAEpBA,E,KAaAW,MAAK,SAAAC,G,IAAGb,EAAQa,EAARb,SAAUC,EAAKY,EAALZ,MACjBa,EAAAtB,GAASuB,OAAOC,QAAQ,uBAAwCC,OAAfjB,EAAS,QAAYiB,OAANhB,EAAM,OAClEE,IAAMe,EAAS,GACjBP,YAAW,WACTd,EAAOsB,gBAAgB,WAAY,G,GAClC,I,IAGNC,OAAM,SAAAP,G,IAAGb,EAAQa,EAARb,SAAUC,EAAKY,EAALZ,MAClBa,EAAAtB,GAASuB,OAAOM,QAAQ,sBAAqCJ,OAAfjB,EAAS,QAAYiB,OAANhB,EAAM,OAC/DE,IAAMe,EAAS,GACjBP,YAAW,WACTd,EAAOsB,gBAAgB,WAAY,G,GAClC,I,KArBXpB,EAAIuB,iBAMJ,IAJA,IAAMlB,EAAQmB,OAAOxB,EAAIyB,cAAcC,SAASxB,MAAMyB,OAChDrB,EAAOkB,OAAOxB,EAAIyB,cAAcC,SAASpB,KAAKqB,OAC9CR,EAASK,OAAOxB,EAAIyB,cAAcC,SAASP,OAAOQ,OAE/CC,EAAI,EAAGA,EAAIT,EAAQS,IAAGC,EAAAD,GAmB/B9B,EAAOgC,aAAa,WAAY,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst formSubmit = document.querySelector('form');\nconst button = document.querySelector('button');\n\nformSubmit.addEventListener('submit', handleSubmit);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n};\n\nfunction handleSubmit(evt) {\n  evt.preventDefault();\n\n  const delay = Number(evt.currentTarget.elements.delay.value);\n  const step = Number(evt.currentTarget.elements.step.value);\n  const amount = Number(evt.currentTarget.elements.amount.value);\n\n  for (let i = 0; i < amount; i++) {\n    createPromise(i + 1, delay + step * i)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        if (i === amount - 1) {\n          setTimeout(() => {\n            button.removeAttribute('disabled', '');\n          }, 4000);\n        }\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        if (i === amount - 1) {\n          setTimeout(() => {\n            button.removeAttribute('disabled', '');\n          }, 4000);\n        }\n      });\n  };\n  button.setAttribute('disabled', '');\n};\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$formSubmit","document","querySelector","$ce04d3a99e08e73b$var$button","addEventListener","evt","position","delay","shouldResolve","i","delay1","step","Math","random","Promise","resolve","reject","setTimeout","then","param","$parcel$interopDefault","Notify","success","concat","amount","removeAttribute","catch","failure","preventDefault","Number","currentTarget","elements","value","i1","_loop","setAttribute"],"version":3,"file":"03-promises.fb39cacc.js.map"}